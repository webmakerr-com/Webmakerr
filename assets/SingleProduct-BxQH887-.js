var ai=Object.defineProperty;var pe=I=>{throw TypeError(I)};var ni=(I,t,i)=>t in I?ai(I,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):I[t]=i;var ge=(I,t,i)=>ni(I,typeof t!="symbol"?t+"":t,i),Nt=(I,t,i)=>t.has(I)||pe("Cannot "+i);var e=(I,t,i)=>(Nt(I,t,"read from private field"),i?i.call(I):t.get(I)),m=(I,t,i)=>t.has(I)?pe("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(I):t.set(I,i),u=(I,t,i,a)=>(Nt(I,t,"write to private field"),a?a.call(I,i):t.set(I,i),i),n=(I,t,i)=>(Nt(I,t,"access private method"),i);var it,B,ut,ft,mt,pt,W,ye,be,ve,Ie,Ht;class ri{constructor(t){m(this,W);m(this,it);m(this,B);m(this,ut);m(this,ft);m(this,mt);m(this,pt);u(this,B,t),console.log(e(this,B)),u(this,it,e(this,B).querySelectorAll("[data-tab]")),u(this,ut,e(this,B).querySelector("[data-fluent-cart-product-item-price]")),u(this,ft,e(this,B).querySelector("[data-fluent-cart-product-payment-type]")),u(this,mt,e(this,B).querySelector("[data-fluent-cart-product-quantity-container]")),u(this,pt,e(this,B).querySelector("[data-fluent-cart-add-to-cart-button]"))}init(){n(this,W,ye).call(this),n(this,W,be).call(this)}handleVariationChange(t){t.closest("[data-tab-content]")}}it=new WeakMap,B=new WeakMap,ut=new WeakMap,ft=new WeakMap,mt=new WeakMap,pt=new WeakMap,W=new WeakSet,ye=function(){e(this,it).forEach(t=>{t.addEventListener("click",()=>{n(this,W,ve).call(this,t)})})},be=function(){const t=Array.from(e(this,it)).find(i=>i.classList.contains("active"));t&&n(this,W,Ht).call(this,t)},ve=function(t,i=!1){e(this,ut)&&e(this,ut).classList.add("is-hidden"),e(this,ft)&&e(this,ft).classList.add("is-hidden"),e(this,mt)&&e(this,mt).classList.add("is-hidden"),e(this,pt)&&e(this,pt).classList.add("is-hidden"),e(this,it).forEach(p=>p.classList.remove("active")),e(this,B).querySelectorAll("[data-tab-content]").forEach(p=>{p.classList.remove("active"),p.style.display="none"}),t.classList.add("active");const d=t.dataset.tab,l=e(this,B).querySelector(`#${d}`);l&&(l.classList.add("active"),n(this,W,Ie).call(this,l,400)),n(this,W,Ht).call(this,t);let h=l==null?void 0:l.querySelector('[data-fluent-cart-product-variant][data-item-stock="in-stock"]');h||(h=l==null?void 0:l.querySelector("[data-fluent-cart-product-variant]")),h&&h.click()},Ie=function(t,i){t.style.opacity="0",t.style.display="block";const a=performance.now(),d=l=>{const h=l-a,p=Math.min(h/i,1);t.style.opacity=p,p<1&&requestAnimationFrame(d)};requestAnimationFrame(d)},Ht=function(t){const i=e(this,B).querySelector("[data-tab-active-bar]");if(!i)return;const a=t.getBoundingClientRect(),d=t.parentElement.getBoundingClientRect();i.style.left=`${a.left-d.left}px`,i.style.width=`${a.width}px`};/*!
 * Lightbox Modified for fluentcart from v2.11.5 - Vanilla JS Version
 * Author: Lokesh Dhakar
 *
 * More info:
 * http://lokeshdhakar.com/projects/lightbox2/
 *
 * Copyright Lokesh Dhakar
 * Released under the MIT license
 * https://github.com/lokesh/lightbox2/blob/master/LICENSE
 *
 * @preserve
 */const ht=class ht{constructor(t={},i=[]){this.album=i,this.currentImageIndex=void 0,this.init(),this.options=ht.defaults,this.option(t),this.boundSizeOverlay=this.sizeOverlay.bind(this),this.boundKeyboardAction=this.keyboardAction.bind(this)}setAlbum(t=[]){this.album=t,this.currentImageIndex=0}static get defaults(){return{albumLabel:"Image %1 of %2",alwaysShowNavOnTouchDevices:!1,fadeDuration:600,fitImagesInViewport:!0,imageFadeDuration:600,positionFromTop:50,resizeDuration:700,showImageNumberLabel:!0,wrapAround:!1,disableScrolling:!1,sanitizeTitle:!1,maxHeightPercentage:80}}get classList(){return{lightboxOverlay:"fct-lightboxOverlay",lightbox:"fct-lightbox",lbOuterContainer:"lb-outerContainer",lbContainer:"lb-container",lbImage:"lb-image",lbNav:"lb-nav",lbPrev:"lb-prev",lbPrevLink:"lb-prevLink",lbNext:"lb-next",lbNextLink:"lb-nextLink",lbLoader:"lb-loader",lbCancel:"lb-cancel",lbDataContainer:"lb-dataContainer",lbData:"lb-data",lbDetails:"lb-details",lbCaption:"lb-caption",lbNumber:"lb-number",lbNumbers:"lb-numbers",lbCloseContainer:"lb-closeContainer",lbClose:"lb-close",lbDisableScrolling:"lb-disable-scrolling"}}extend(t,i){for(const a in i)i.hasOwnProperty(a)&&(t[a]=i[a])}fadeIn(t,i,a){t.style.opacity=0,t.style.display="flex";let d=null;const l=h=>{d||(d=h);const p=(h-d)/i;t.style.opacity=Math.min(p,1),p<1?requestAnimationFrame(l):a&&a()};requestAnimationFrame(l)}fadeOut(t,i,a){let d=null;const l=h=>{d||(d=h);const p=(h-d)/i;t.style.opacity=Math.max(1-p,0),p<1?requestAnimationFrame(l):(t.style.display="none",a&&a())};requestAnimationFrame(l)}animate(t,i,a,d){const l={},h={};for(const y in i){const E=getComputedStyle(t);l[y]=parseFloat(E[y])||0,h[y]=parseFloat(i[y])}let p=null;const v=y=>{p||(p=y);const E=Math.min((y-p)/a,1),_=.5-Math.cos(E*Math.PI)/2;for(const S in i){const D=l[S]+(h[S]-l[S])*_;t.style[S]=D+"px"}E<1?requestAnimationFrame(v):d&&d()};requestAnimationFrame(v)}option(t){this.extend(this.options,t)}imageCountLabel(t,i){return this.options.albumLabel.replace(/%1/g,t).replace(/%2/g,i)}init(){}shouldBuild(){return ht.isBuiltOnce===!1?(ht.isBuiltOnce=!0,!0):!1}ensureTemplateExist(){const t=this.classList;if(this.shouldBuild()){const i=`<div id="${t.lightboxOverlay}" tabindex="-1" class="${t.lightboxOverlay}"></div>
                <div id="${t.lightbox}" tabindex="-1" class="${t.lightbox}">
                   <div class="${t.lbOuterContainer}">
                      <div class="${t.lbContainer}">
                         <img class="${t.lbImage}" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" alt=""/>
                         <div class="${t.lbNav}">
                             <div class="${t.lbCloseContainer}">
                               <a class="${t.lbClose}" role="button" tabindex="0">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024"><path fill="currentColor" d="M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"></path></svg>
                                </a>
                            </div>
                            <a class="${t.lbPrev}" role="button" tabindex="0" aria-label="Previous image" href="" ></a>
                            <a class="${t.lbNext}" role="button" tabindex="0" aria-label="Next image" href="" ></a>
                         </div>
                         <div class="${t.lbLoader}">
                            <a class="${t.lbCancel}" role="button" tabindex="0">
                                <span class="lb-spinner"></span>
                            </a>
                         </div>
                      </div>
                   </div>
                   <div class="${t.lbDataContainer}">
                      <div class="${t.lbData}">
                         <div class="${t.lbDetails}">
                            <span class="${t.lbCaption}"></span>
                            <span class="${t.lbNumber}"></span>
                         </div>
                      </div>
                   </div>
                </div>`;document.body.insertAdjacentHTML("beforeend",i)}}build(){this.ensureTemplateExist();const t=this.classList;this.lightbox=document.getElementById(t.lightbox),this.overlay=document.getElementById(t.lightboxOverlay),this.outerContainer=this.lightbox.querySelector(`.${t.lbOuterContainer}`),this.container=this.lightbox.querySelector(`.${t.lbContainer}`),this.image=this.lightbox.querySelector(`.${t.lbImage}`),this.nav=this.lightbox.querySelector(`.${t.lbNav}`);const i=getComputedStyle(this.container);this.containerPadding={top:parseInt(i.paddingTop,10),right:parseInt(i.paddingRight,10),bottom:parseInt(i.paddingBottom,10),left:parseInt(i.paddingLeft,10)};const a=getComputedStyle(this.image);this.imageBorderWidth={top:parseInt(a.borderTopWidth,10),right:parseInt(a.borderRightWidth,10),bottom:parseInt(a.borderBottomWidth,10),left:parseInt(a.borderLeftWidth,10)},this.overlay.style.display="none",this.overlay.addEventListener("click",()=>{this.end()}),this.lightbox.style.display="none",this.lightbox.addEventListener("click",l=>{l.target.id===t.lightbox&&this.end()}),this.outerContainer.addEventListener("click",l=>{l.target.id===t.lightbox&&this.end()}),this.lightbox.querySelector(`.${t.lbPrev}`).addEventListener("click",l=>{l.preventDefault(),this.currentImageIndex===0?this.changeImage(this.album.length-1):this.changeImage(this.currentImageIndex-1)}),this.lightbox.querySelector(`.${t.lbNext}`).addEventListener("click",l=>{l.preventDefault(),this.currentImageIndex===this.album.length-1?this.changeImage(0):this.changeImage(this.currentImageIndex+1)}),this.nav.addEventListener("mousedown",l=>{if(l.which===3){this.nav.style.pointerEvents="none";const h=()=>{setTimeout(()=>{this.nav.style.pointerEvents="auto"},0),this.lightbox.removeEventListener("contextmenu",h)};this.lightbox.addEventListener("contextmenu",h)}}),this.lightbox.querySelectorAll(`.${t.lbLoader}, .${t.lbClose}`).forEach(l=>{l.addEventListener("click",h=>(this.end(),!1)),l.addEventListener("keyup",h=>{if(h.which===13||h.which===32)return this.end(),!1})})}start(t=0,i=null){this.build(),window.addEventListener("resize",this.boundSizeOverlay),this.sizeOverlay();const a=window.pageYOffset+this.options.positionFromTop,d=window.pageXOffset;this.lightbox.style.top=a+"px",this.lightbox.style.left=d+"px",this.fadeIn(this.lightbox,this.options.fadeDuration),document.body.style.overflow="hidden",this.options.disableScrolling&&document.body.classList.add(this.classList.lbDisableScrolling),this.changeImage(t),typeof i=="function"&&i()}changeImage(t){const i=this.classList,a=this,d=this.album[t].link,l=d.split(".").slice(-1)[0];this.disableKeyboardNav(),this.fadeIn(this.overlay,this.options.fadeDuration);const h=this.lightbox.querySelector(`.${i.lbLoader}`);this.fadeIn(h,500),this.lightbox.querySelectorAll(`.${i.lbImage}, .${i.lbNav}, .${i.lbPrev}, .${i.lbNext}, .${i.lbDataContainer}, .${i.lbNumbers}, .${i.lbCaption}`).forEach(y=>y.style.display="none"),this.outerContainer.classList.add("animating");const v=new Image;v.onload=()=>{setTimeout(()=>{this.onImageLoaded(v,t,a,d,l)},300)},v.src=this.album[t].link,this.currentImageIndex=t}onImageLoaded(t,i,a,d,l){let h,p,v,y,E,_;const S=this.lightbox.querySelector(`.${this.classList.lbImage}`);S.setAttribute("alt",a.album[i].alt),S.setAttribute("src",d),S.style.width=t.width+"px",S.style.height=t.height+"px";const D=t.width/t.height;_=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,E=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;const Q=this.options.maxHeightPercentage||80,V=E*Q/100;if(y=_-a.containerPadding.left-a.containerPadding.right-a.imageBorderWidth.left-a.imageBorderWidth.right-20,v=Math.min(V-a.containerPadding.top-a.containerPadding.bottom-a.imageBorderWidth.top-a.imageBorderWidth.bottom,E-a.containerPadding.top-a.containerPadding.bottom-a.imageBorderWidth.top-a.imageBorderWidth.bottom-a.options.positionFromTop-70),l==="svg"?(D>=1?(p=y,h=parseInt(y/D,10)):(p=parseInt(v/D,10),h=v),h>v&&(h=v,p=parseInt(v*D,10)),S.style.width=p+"px",S.style.height=h+"px"):(a.options.fitImagesInViewport?(a.options.maxWidth&&a.options.maxWidth<y&&(y=a.options.maxWidth),a.options.maxHeight&&a.options.maxHeight<v&&(v=a.options.maxHeight)):(y=a.options.maxWidth||t.width||y,v=a.options.maxHeight||t.height||v),(t.width>y||t.height>v)&&(t.width/y>t.height/v?(p=y,h=parseInt(t.height/(t.width/p),10),h>v&&(h=v,p=parseInt(t.width/(t.height/h),10))):(h=v,p=parseInt(t.width/(t.height/h),10),p>y&&(p=y,h=parseInt(t.height/(t.width/p),10))),S.style.width=p+"px",S.style.height=h+"px")),h+a.containerPadding.top+a.containerPadding.bottom+a.imageBorderWidth.top+a.imageBorderWidth.bottom+a.options.positionFromTop+70>E){const Z=E-a.containerPadding.top-a.containerPadding.bottom-a.imageBorderWidth.top-a.imageBorderWidth.bottom-a.options.positionFromTop-70,U=Z/h;h=Z,p=Math.floor(p*U),S.style.width=p+"px",S.style.height=h+"px"}a.sizeContainer(parseInt(S.style.width),parseInt(S.style.height))}sizeOverlay(){setTimeout(()=>{this.overlay.style.width=Math.max(document.body.scrollWidth,document.body.offsetWidth,document.documentElement.clientWidth,document.documentElement.scrollWidth,document.documentElement.offsetWidth)+"px",this.overlay.style.height=window.innerHeight+"px"},0)}sizeContainer(t,i){const a=this.outerContainer.offsetWidth,d=this.outerContainer.offsetHeight,l=t+this.containerPadding.left+this.containerPadding.right+this.imageBorderWidth.left+this.imageBorderWidth.right,h=i+this.containerPadding.top+this.containerPadding.bottom+this.imageBorderWidth.top+this.imageBorderWidth.bottom,p=()=>{this.lightbox.querySelector(`.${this.classList.lbDataContainer}`).style.width=l+"px";const v=this.lightbox.querySelector(`.${this.classList.lbPrevLink}`),y=this.lightbox.querySelector(`.${this.classList.lbNextLink}`);v&&(v.style.height=h+"px"),y&&(y.style.height=h+"px"),this.overlay.focus(),this.showImage()};a!==l||d!==h?this.animate(this.outerContainer,{width:l,height:h},this.options.resizeDuration,p):p()}showImage(){const t=this.lightbox.querySelector(`.${this.classList.lbLoader}`);t.style.display="none",this.fadeIn(this.lightbox.querySelector(`.${this.classList.lbImage}`),this.options.imageFadeDuration),this.updateNav(),this.updateDetails(),this.preloadNeighboringImages(),this.enableKeyboardNav()}updateNav(){let t=!1;try{document.createEvent("TouchEvent"),t=!!this.options.alwaysShowNavOnTouchDevices}catch{}if(this.lightbox.querySelector(`.${this.classList.lbNav}`).style.display="block",this.album.length>1)if(this.options.wrapAround)t&&(this.lightbox.querySelector(`.${this.classList.lbPrev}`).style.opacity="1"),this.lightbox.querySelector(`.${this.classList.lbPrev}`).style.display="block",this.lightbox.querySelector(`.${this.classList.lbNext}`).style.display="block";else{if(this.currentImageIndex>0){const i=this.lightbox.querySelector(`.${this.classList.lbPrev}`);i.style.display="block",t&&(i.style.opacity="1")}if(this.currentImageIndex<this.album.length-1){const i=this.lightbox.querySelector(`.${this.classList.lbNext}`);i.style.display="block",t&&(i.style.opacity="1")}}}updateDetails(){if(typeof this.album[this.currentImageIndex].title<"u"&&this.album[this.currentImageIndex].title!==""){const t=this.lightbox.querySelector(".lb-caption");this.options.sanitizeTitle?t.textContent=this.album[this.currentImageIndex].title:t.innerHTML=this.album[this.currentImageIndex].title,this.fadeIn(t,300)}if(this.album.length>1&&this.options.showImageNumberLabel){const t=this.imageCountLabel(this.currentImageIndex+1,this.album.length),i=this.lightbox.querySelector(`.${this.classList.lbNumber}`);i.textContent=t,this.fadeIn(i,300)}else this.lightbox.querySelector(`.${this.classList.lbNumber}`).style.display="none";this.outerContainer.classList.remove("animating"),this.fadeIn(this.lightbox.querySelector(`.${this.classList.lbDataContainer}`),this.options.resizeDuration,()=>this.sizeOverlay())}preloadNeighboringImages(){if(this.album.length>this.currentImageIndex+1){const t=new Image;t.src=this.album[this.currentImageIndex+1].link}if(this.currentImageIndex>0){const t=new Image;t.src=this.album[this.currentImageIndex-1].link}}enableKeyboardNav(){document.addEventListener("keyup",this.boundKeyboardAction),this.lightbox.addEventListener("keyup",this.boundKeyboardAction),this.overlay.addEventListener("keyup",this.boundKeyboardAction)}disableKeyboardNav(){document.removeEventListener("keyup",this.boundKeyboardAction),this.lightbox.removeEventListener("keyup",this.boundKeyboardAction),this.overlay.removeEventListener("keyup",this.boundKeyboardAction)}keyboardAction(t){const l=t.keyCode;l===27?(t.stopPropagation(),this.end()):l===37?this.currentImageIndex!==0?this.changeImage(this.currentImageIndex-1):this.options.wrapAround&&this.album.length>1&&this.changeImage(this.album.length-1):l===39&&(this.currentImageIndex!==this.album.length-1?this.changeImage(this.currentImageIndex+1):this.options.wrapAround&&this.album.length>1&&this.changeImage(0))}end(){this.disableKeyboardNav(),window.removeEventListener("resize",this.boundSizeOverlay),this.fadeOut(this.lightbox,this.options.fadeDuration),this.fadeOut(this.overlay,this.options.fadeDuration),document.body.style.overflow="inherit",this.options.disableScrolling&&document.body.classList.remove(this.classList.lbDisableScrolling),setTimeout(()=>{const t=document.getElementById("lightbox"),i=document.getElementById("lightboxOverlay");t&&t.remove(),i&&i.remove()},this.options.fadeDuration)}};ge(ht,"isBuiltOnce",!1);let zt=ht;window.addEventListener("fluent_cart_app_loaded",function(I){document.querySelectorAll("[data-fluent-cart-product-gallery-wrapper]").forEach((t,i)=>{new window.FluentCartImageGallery().init(t)})});window.addEventListener("fluentCartSingleProductModalOpened",function(I){let t=!1;window.fluentcart_single_product_vars.enable_image_zoom_in_modal==="yes"&&(t=!0),document.querySelectorAll("[data-fluent-cart-product-gallery-wrapper]").forEach((i,a)=>{new window.FluentCartImageGallery().init(i,t)})});var O,C,gt,K,$,P,St,R,G,Et,yt,st,at,At,z,r,_t,Le,we,Ft,xe,Ce,Rt,Se,Ee,Vt,Kt,Gt,wt,Ut,et,Ae,xt,Yt,di,ke,qe,Te,Qt,Zt,Pe,Oe,jt,$e,Xt,Jt,te,ee,Bt,_e,Be,We,De;class oi{constructor(){m(this,r);m(this,O);m(this,C);m(this,gt);m(this,K);m(this,$);m(this,P,0);m(this,St);m(this,R);m(this,G);m(this,Et);m(this,yt,"all");m(this,st,null);m(this,at,0);m(this,At,4e3);m(this,z)}init(t,i=!0){this.container=t,u(this,Et,this.container.getAttribute("data-product-id")),u(this,yt,this.container.getAttribute("data-thumbnail-mode")||"all"),u(this,St,i),u(this,R,this.findInContainer("[data-fluent-cart-thumb-control-button]")),u(this,G,this.findOneInContainer("[data-fluent-cart-single-product-page-product-thumbnail-controls]")),u(this,O,this.findOneInContainer("[data-fluent-cart-single-product-page-product-thumbnail]")),u(this,C,this.findOneInContainer("[data-fluent-cart-product-video]")),u(this,z,this.findOneInContainer("[data-fluent-cart-product-video-preview]")),n(this,r,we).call(this),n(this,r,xe).call(this),n(this,r,Pe).call(this),n(this,r,Vt).call(this),n(this,r,Ce).call(this),n(this,r,ke).call(this),n(this,r,Te).call(this),n(this,r,wt).call(this),n(this,r,et).call(this),window.addEventListener("resize",()=>n(this,r,et).call(this))}updateGalleryByVariation(t=0){if(e(this,yt)==="all"){this.findInContainer("[data-fluent-cart-thumb-control-button]").forEach(l=>l.classList.remove("is-hidden")),n(this,r,wt).call(this),n(this,r,et).call(this);return}const i=this.findInContainer(`[data-fluent-cart-thumb-control-button][data-variation-id="${t}"]`);i.length>0&&(this.findInContainer(`[data-fluent-cart-thumb-control-button][data-variation-id]:not([data-variation-id="${t}"])`).forEach(l=>l.classList.add("is-hidden")),i.forEach(l=>l.classList.remove("is-hidden"))),this.findInContainer('[data-fluent-cart-thumb-control-button][data-variation-id="0"]').forEach(d=>d.classList.remove("is-hidden")),n(this,r,wt).call(this),n(this,r,et).call(this)}findInContainer(t){return this.container.querySelectorAll(t)}findOneInContainer(t){return this.container.querySelector(t)}}O=new WeakMap,C=new WeakMap,gt=new WeakMap,K=new WeakMap,$=new WeakMap,P=new WeakMap,St=new WeakMap,R=new WeakMap,G=new WeakMap,Et=new WeakMap,yt=new WeakMap,st=new WeakMap,at=new WeakMap,At=new WeakMap,z=new WeakMap,r=new WeakSet,_t=function(){const t=document.querySelector("[data-fluent-cart-single-product-page]");return(t==null?void 0:t.classList.contains("is-mobile"))||window.matchMedia("(max-width: 815px)").matches},Le=function(){u(this,At,n(this,r,_t).call(this)?5200:4e3)},we=function(){window.addEventListener("fluentCartSingleProductVariationChanged",t=>{var d;if(t.detail.productId!=e(this,Et))return;u(this,P,t.detail.variationId),this.updateGalleryByVariation(e(this,P));let a=(d=e(this,G))==null?void 0:d.querySelectorAll(`[data-fluent-cart-thumb-control-button][data-variation-id="${e(this,P)}"]`);n(this,r,qe).call(this,a),n(this,r,wt).call(this),n(this,r,et).call(this)})},Ft=function(){return e(this,C)&&!e(this,C).classList.contains("is-hidden")},xe=function(){var a,d,l,h;const t=(a=e(this,G))==null?void 0:a.querySelectorAll("[data-fluent-cart-thumb-control-button]:not(.is-hidden)"),i=(d=e(this,G))==null?void 0:d.querySelector(".active[data-fluent-cart-thumb-control-button]:not(.is-hidden)");i?u(this,P,i.dataset.variationId):u(this,P,((h=(l=t==null?void 0:t[0])==null?void 0:l.dataset)==null?void 0:h.variationId)||0),this.updateGalleryByVariation(e(this,P))},Ce=function(){e(this,O)&&(e(this,O).removeEventListener("click",n(this,r,Rt).bind(this)),u(this,gt,new zt({},[])),e(this,O).addEventListener("click",n(this,r,Rt).bind(this)))},Rt=function(t){if(n(this,r,Ft).call(this))return;const i=e(this,O).parentElement,a=i.style.position,d=!a||a==="",l=document.querySelector("[data-fluent-cart-shop-app-single-product-modal]");l&&window.FluentCartSingleProductModal.closeModal(l),d&&(i.style.position="relative");const h=document.createElement("div");h.style.position="fixed",h.style.top="0",h.style.left="0",h.style.right="0",h.style.bottom="0",h.style.zIndex="99999",document.body.appendChild(h),e(this,K)&&e(this,K).closezoom&&e(this,K).closezoom(),setTimeout(()=>{h.parentNode&&h.parentNode.removeChild(h),d&&(i.style.position="")},1e3);const p=t.target;let v=n(this,r,Se).call(this);const y=n(this,r,Kt).call(this,v,p.getAttribute("src"));y>-1&&(e(this,gt).setAlbum(v),e(this,gt).start(y,()=>{}))},Se=function(){if(e(this,yt)==="all")return n(this,r,Ee).call(this);{let t=e(this,$)[e(this,P)],i=e(this,$)[0];return t&&i&&(t=[...t,...i]),(!t||t.length===0)&&(t=e(this,$)[0]),t}},Ee=function(){const t=[],i=new Set,a=d=>{Array.isArray(d)&&d.forEach(l=>{i.has(l.link)||(t.push(l),i.add(l.link))})};return e(this,P)&&e(this,$)[e(this,P)]&&a(e(this,$)[e(this,P)]),e(this,$)[0]&&a(e(this,$)[0]),Object.keys(e(this,$)).forEach(d=>{d!=e(this,P)&&d!=0&&a(e(this,$)[d])}),t.length>0?t:e(this,$)[0]||[]},Vt=function(){window.fluentcart_single_product_vars.enable_image_zoom==="yes"&&e(this,St)&&!n(this,r,Ft).call(this)&&e(this,K)==null&&e(this,O)&&(window.onload=function(){},u(this,K,xZoom(e(this,O),{tint:!1,Yoffset:120,zoomWidth:500,zoomHeight:400,position:"inside",lensSize:300})))},Kt=function(t,i){return Array.isArray(t)?t.findIndex(a=>a.link===i):-1},Gt=function(){return Array.from(e(this,R)||[]).filter(t=>!t.classList.contains("is-hidden"))},wt=function(){if(!e(this,G))return;const i=n(this,r,Gt).call(this).filter(a=>a.dataset.mediaType!=="video").length>6;e(this,G).classList.toggle("is-scrollable",i)},Ut=function(){return n(this,r,Gt).call(this).filter(t=>t.dataset.mediaType!=="video")},et=function(){n(this,r,xt).call(this),n(this,r,Le).call(this);const t=n(this,r,Ut).call(this);if(t.length<2)return;const i=t.findIndex(a=>a.classList.contains("active"));u(this,at,i>=0?i:-1),n(this,r,Ae).call(this)},Ae=function(){n(this,r,xt).call(this),u(this,st,setInterval(()=>{const t=n(this,r,Ut).call(this);if(t.length<2){n(this,r,xt).call(this);return}u(this,at,(e(this,at)+1)%t.length);const i=t[e(this,at)];i&&(n(this,r,Qt).call(this,i,{auto:!0}),n(this,r,_t).call(this)||n(this,r,Yt).call(this,i))},e(this,At)))},xt=function(){e(this,st)&&(clearInterval(e(this,st)),u(this,st,null))},Yt=function(t){const i=t==null?void 0:t.closest(".fct-gallery-thumb-controls");if(!i)return;const a=t.getBoundingClientRect(),d=i.getBoundingClientRect(),l=a.left<d.left||a.right>d.right,h=a.top<d.top||a.bottom>d.bottom;if(l){const p=t.offsetLeft-(i.clientWidth-t.clientWidth)/2;i.scrollTo({left:Math.max(0,p),behavior:"smooth"})}if(h){const p=t.offsetTop-(i.clientHeight-t.clientHeight)/2;i.scrollTo({top:Math.max(0,p),behavior:"smooth"})}},di=function(){return window.matchMedia("(hover: hover) and (pointer: fine)").matches},ke=function(){const t={};e(this,R).length>0&&e(this,R).forEach((i,a)=>{if(i.dataset.mediaType==="video")return;const d=i.dataset.variationId.toString(),l=i.querySelector("[data-fluent-cart-single-product-page-product-thumbnail-controls-thumb]");l&&(t.hasOwnProperty(d)||(t[d]=[]),n(this,r,Kt).call(this,t[d],l.src)===-1&&t[d].push({alt:l.alt,link:l.src,title:l.alt}))}),u(this,$,t)},qe=function(t){if(e(this,R).forEach(i=>i.classList.remove("active")),t&&t.length>0){const i=t[0];i.classList.add("active"),n(this,r,Zt).call(this,i)}},Te=function(){e(this,R).forEach(t=>{t.addEventListener("click",i=>{n(this,r,Qt).call(this,t)})})},Qt=function(t,i={auto:!1}){e(this,R).forEach(d=>d.classList.remove("active")),t.classList.add("active");const a=t.dataset.variationId;a!==void 0&&u(this,P,a),n(this,r,Zt).call(this,t),t.dataset.mediaType==="video"?n(this,r,xt).call(this):i.auto||n(this,r,et).call(this),n(this,r,_t).call(this)||n(this,r,Yt).call(this,t)},Zt=function(t){const i=this.findOneInContainer("[data-fluent-cart-single-product-page-product-thumbnail]");if(t.dataset.mediaType==="video"){n(this,r,Oe).call(this);return}if(!i)return;n(this,r,$e).call(this);let a=t.dataset.url;a===void 0&&(a=i.dataset.defaultImageUrl),i.classList.remove("is-hidden"),e(this,K)||n(this,r,Vt).call(this);const d="is-switching";if(i.getAttribute("src")===a&&i.complete){i.classList.remove(d);return}i.classList.add(d);const h=()=>{i.classList.remove(d)};i.addEventListener("load",h,{once:!0}),i.setAttribute("src",a)},Pe=function(){if(!e(this,C))return;n(this,r,Jt).call(this);const t=i=>{i.type==="keyup"&&i.key!=="Enter"&&i.key!==" "||(i.preventDefault(),n(this,r,ee).call(this))};e(this,z)&&(e(this,z).addEventListener("click",t),e(this,z).addEventListener("keyup",t))},Oe=function(t=!1){if(e(this,C)){if(n(this,r,jt).call(this),e(this,C).dataset.videoLoaded==="yes"){n(this,r,te).call(this),n(this,r,Xt).call(this);return}if(t){n(this,r,ee).call(this);return}n(this,r,Jt).call(this)}},jt=function(){e(this,O)&&e(this,O).classList.add("is-hidden"),e(this,C)&&e(this,C).classList.remove("is-hidden")},$e=function(){e(this,C)&&e(this,C).classList.add("is-hidden"),n(this,r,_e).call(this)},Xt=function(){var i,a;const t=(i=e(this,C))==null?void 0:i.querySelector("video");t&&((a=e(this,C))==null?void 0:a.dataset.videoLoaded)==="yes"&&(t.currentTime=0)},Jt=function(){e(this,O)&&e(this,O).classList.add("is-hidden"),e(this,C)&&e(this,C).classList.remove("is-hidden"),e(this,z)&&e(this,z).classList.remove("is-hidden")},te=function(){e(this,z)&&e(this,z).classList.add("is-hidden")},ee=function(){n(this,r,jt).call(this),n(this,r,te).call(this),n(this,r,De).call(this,!0,!0),n(this,r,Xt).call(this),n(this,r,Bt).call(this)},Bt=function(){var i,a;const t=(i=e(this,C))==null?void 0:i.querySelector("video");t&&(t.muted=!0,t.autoplay=!0,t.playsInline=!0,(a=t.play)==null||a.call(t).catch(()=>{}))},_e=function(){var i,a;const t=(i=e(this,C))==null?void 0:i.querySelector("video");t&&((a=t.pause)==null||a.call(t))},Be=function(t){try{const i=new URL(t,window.location.origin);return i.searchParams.set("autoplay","1"),i.toString()}catch{return t.includes("?")?`${t}&autoplay=1`:`${t}?autoplay=1`}},We=function(t){return t&&(t.includes("<iframe")?t.replace(/(<iframe[^>]*src=")([^"]+)("[^>]*>)/i,(i,a,d,l)=>{const h=n(this,r,Be).call(this,d);return`${a}${h}${l}`}):t.includes("<video")?t.replace(/<video(.*?)>/i,(i,a)=>{let d=a;return/\sautoplay/i.test(d)||(d+=" autoplay"),/\smuted/i.test(d)||(d+=" muted"),/playsinline/i.test(d)||(d+=" playsinline"),`<video${d}>`}):t)},De=function(t=!1,i=!1){if(!e(this,C)||!t&&document.readyState!=="complete")return;if(e(this,C).dataset.videoLoaded==="yes"){i&&n(this,r,Bt).call(this);return}const a=e(this,C).dataset.videoEmbed||"";if(a)try{let d=atob(a);i&&(d=n(this,r,We).call(this,d)),e(this,C).innerHTML=d,e(this,C).dataset.videoLoaded="yes",i&&n(this,r,Bt).call(this)}catch(d){console.error("Failed to decode product video",d)}};window.FluentCartImageGallery=oi;document.addEventListener("DOMContentLoaded",()=>{var i,a,d,l,h,p,v,y,E,_,S,D,Q,V,Z,U,bt,j,F,q,nt,rt,kt,ot,dt,qt,X,J,lt,c,Ct,Me,ie,li,Ne,Wt,He,ze,Fe,Re,Dt,Ve,Ke,Ge,Ue,se,ae,Mt,Ye,Qe,Ze,ne,je,Xe,Je,ci,hi,ti,re,ei,ii,oe,si,de,le;const Tt=class Tt{constructor(){m(this,c);m(this,a);m(this,d);m(this,l);m(this,h);m(this,p);m(this,v);m(this,y);m(this,E);m(this,_);m(this,S);m(this,D);m(this,Q);m(this,V,0);m(this,Z);m(this,U);m(this,bt);m(this,j);m(this,F);m(this,q);m(this,nt);m(this,rt);m(this,kt);m(this,ot);m(this,dt);m(this,qt);m(this,X);m(this,J);m(this,lt,!0)}toTitleCase(s){return s.replace(/\w\S*/g,function(o){return o.charAt(0).toUpperCase()+o.substr(1).toLowerCase()})}$t(s){return window.fluentcart_single_product_vars.trans[s]||s}findInContainer(s){return e(this,a).querySelectorAll(s)}findOneInContainer(s){return e(this,a).querySelector(s)}init(s,o){return u(this,Q,o),u(this,a,s),u(this,d,this.findInContainer("[data-fluent-cart-product-variant]")),u(this,bt,e(this,a).getAttribute("data-product-id")),u(this,p,this.findOneInContainer("[data-fluent-cart-product-qty-increase-button]")),u(this,v,this.findOneInContainer("[data-fluent-cart-product-qty-decrease-button]")),u(this,l,this.findOneInContainer("[data-fluent-cart-single-product-page-product-quantity-input]")),u(this,h,this.findOneInContainer("[data-fluent-cart-product-quantity-container]")),u(this,y,this.findInContainer("[data-fluent-cart-add-to-cart-button]")),u(this,E,this.findInContainer("[data-fluent-cart-direct-checkout-button]")),u(this,_,this.findInContainer("[data-fluent-cart-thumb-control-button]")),u(this,S,this.findOneInContainer("[data-fluent-cart-single-product-page-product-thumbnail-controls]")),u(this,Z,this.findOneInContainer("[data-fluent-cart-product-item-price]")),u(this,U,this.findOneInContainer("[data-fluent-cart-product-payment-type]")),u(this,j,this.findOneInContainer("[data-fluent-cart-product-pricing-section]")),u(this,F,this.findOneInContainer("[data-fluent-cart-single-product-page-product-thumbnail]")),u(this,q,this.findOneInContainer("[data-fluent-cart-product-video]")),n(this,c,Ye).call(this),n(this,c,Qe).call(this),n(this,c,Ze).call(this),n(this,c,je).call(this),n(this,c,Ge).call(this),n(this,c,Re).call(this),n(this,c,ei).call(this),n(this,c,Ne).call(this),n(this,c,ie).call(this),n(this,c,Me).call(this),n(this,c,He).call(this),n(this,c,ze).call(this),u(Tt,i,this),this}updateGalleryByVariation(s=0){const o=document.querySelectorAll(`[data-fluent-cart-thumb-control-button][data-variation-id="${s}"]`);o.length>0?(document.querySelectorAll(`[data-fluent-cart-thumb-control-button][data-variation-id]:not([data-variation-id="${s}"])`).forEach(g=>g.classList.add("is-hidden")),o.forEach(g=>g.classList.remove("is-hidden"))):document.querySelectorAll('[data-fluent-cart-thumb-control-button][data-variation-id="0"]').forEach(g=>g.classList.remove("is-hidden"))}};i=new WeakMap,a=new WeakMap,d=new WeakMap,l=new WeakMap,h=new WeakMap,p=new WeakMap,v=new WeakMap,y=new WeakMap,E=new WeakMap,_=new WeakMap,S=new WeakMap,D=new WeakMap,Q=new WeakMap,V=new WeakMap,Z=new WeakMap,U=new WeakMap,bt=new WeakMap,j=new WeakMap,F=new WeakMap,q=new WeakMap,nt=new WeakMap,rt=new WeakMap,kt=new WeakMap,ot=new WeakMap,dt=new WeakMap,qt=new WeakMap,X=new WeakMap,J=new WeakMap,lt=new WeakMap,c=new WeakSet,Ct=function(s=""){const o=document.querySelector("[data-fluent-cart-single-product-page]");return o?s?o.querySelector(s):o:null},Me=function(){window.addEventListener("resize",s=>{n(this,c,ie).call(this)})},ie=function(){const s=document.querySelector("[data-fluent-cart-single-product-page]");s&&(s.offsetWidth<=767?s.classList.add("is-mobile"):s.classList.remove("is-mobile"))},li=function(s,o){return Array.isArray(s)?s.findIndex(f=>f.link===o):-1},Ne=function(){this.findOneInContainer("[data-fluent-cart-product-tab]")&&(u(this,D,new ri(e(this,a))),e(this,D).init())},Wt=function(){const s=n(this,c,Fe).call(this);s&&(e(this,rt)&&(e(this,rt).innerHTML=s),e(this,dt)&&(e(this,dt).innerHTML=s))},He=function(){var k,H;const s=document.querySelector("[data-fluent-cart-single-product-page]"),o=this.findOneInContainer(".fct-dominant-add-to-cart"),f=((H=(k=n(this,c,Ct).call(this,"#fct-product-summary-title"))==null?void 0:k.textContent)==null?void 0:H.trim())||"",g=this.$t("Rated 4.9 out of 5");if(!s||!o)return;const b=L=>{var It,Lt;let M=s.querySelector(`.${L}`);M||(M=document.createElement("div"),M.className=L,M.innerHTML=`
                        <div class="fct-mobile-sticky-content">
                            <div class="fct-sticky-summary">
                                <div class="fct-sticky-title" data-fluent-cart-sticky-title></div>
                                <div class="fct-sticky-rating" aria-label="${g}">
                                    <span class="fct-sticky-stars" aria-hidden="true">
                                        <span class="fct-sticky-stars-base">★★★★★</span>
                                        <span class="fct-sticky-stars-active">★★★★★</span>
                                    </span>
                                    <span class="fct-sticky-rating-value">4.9</span>
                                </div>
                            </div>
                            <div class="fct-sticky-actions">
                                <div class="fct-mobile-sticky-price" data-fluent-cart-sticky-price></div>
                                <button type="button" class="fct-mobile-sticky-button" data-fluent-cart-sticky-button>
                                    <span class="text">${((It=o.querySelector(".text"))==null?void 0:It.textContent)||((Lt=o.textContent)==null?void 0:Lt.trim())||""}</span>
                                </button>
                            </div>
                        </div>
                    `,s.appendChild(M));const Pt=M.querySelector("[data-fluent-cart-sticky-price]"),ct=M.querySelector("[data-fluent-cart-sticky-button]"),vt=M.querySelector("[data-fluent-cart-sticky-title]");return vt&&(vt.textContent=f),ct&&ct.addEventListener("click",Ot=>{Ot.preventDefault(),o.click()}),{stickyBar:M,stickyPrice:Pt,stickyButton:ct}},x=b("fct-mobile-sticky-cart");u(this,nt,x.stickyBar),u(this,rt,x.stickyPrice),u(this,kt,x.stickyButton);const T=b("fct-desktop-sticky-cart");u(this,ot,T.stickyBar),u(this,dt,T.stickyPrice),u(this,qt,T.stickyButton);const A=()=>window.matchMedia("(max-width: 767px)").matches,N=()=>window.matchMedia("(min-width: 768px)").matches,w=()=>{if(e(this,nt)){const L=A()&&!e(this,lt);e(this,nt).classList.toggle("is-visible",L)}if(e(this,ot)){const L=N()&&!e(this,lt);e(this,ot).classList.toggle("is-visible",L)}};e(this,X)&&e(this,X).disconnect(),u(this,X,new IntersectionObserver(([L])=>{u(this,lt,L.isIntersecting),w()},{threshold:0})),e(this,X).observe(o),window.addEventListener("resize",w),window.addEventListener("scroll",w,{passive:!0}),window.addEventListener("fluentCartSingleProductVariationChanged",()=>n(this,c,Wt).call(this)),n(this,c,Wt).call(this),w()},ze=function(){e(this,j)&&(e(this,J)&&e(this,J).disconnect(),u(this,J,new MutationObserver(()=>{n(this,c,Wt).call(this)})),e(this,J).observe(e(this,j),{childList:!0,subtree:!0,characterData:!0,attributes:!0}))},Fe=function(){const s=n(this,c,Ct).call(this)||e(this,a)||document,o=s.querySelector("[data-fluent-cart-product-item-price]:not(.is-hidden)");if(o)return o.innerHTML.trim();const f=s.querySelector("[data-fluent-cart-product-payment-type]:not(.is-hidden)");if(f)return f.innerHTML.trim();const g=s.querySelector(".fct-product-prices .fct-item-price");if(g)return g.innerHTML.trim();const b=s.querySelector(".fct-product-prices");return b?b.textContent.trim():""},Re=function(){var L,M,Pt,ct,vt,It,Lt,Ot,ce,he,ue,fe,me;const s=this.findOneInContainer(".selected[data-fluent-cart-product-variant]"),o=s==null?void 0:s.dataset.cartId;s==null||s.dataset.itemPrice,s==null||s.dataset.subscriptionTerms;const f=s==null?void 0:s.dataset.paymentType;let g=(L=window.fluentcart_single_product_vars)==null?void 0:L.in_stock_status,b=s==null?void 0:s.dataset.stockManagement,x=g;if(b==="yes"&&(x=s==null?void 0:s.dataset.itemStock),o!==void 0&&(e(this,y).forEach(tt=>{tt.setAttribute("data-cart-id",o)}),n(this,c,Dt).call(this,o,x)),o===void 0&&e(this,d).length===0){const tt=(M=e(this,E)[0])==null?void 0:M.dataset.cartId,$t=(Pt=e(this,E)[0])==null?void 0:Pt.dataset.stockAvailability;n(this,c,Dt).call(this,tt,$t)}const T=(ct=e(this,S))==null?void 0:ct.querySelectorAll("[data-fluent-cart-thumb-control-button]:not(.is-hidden)"),A=(vt=e(this,j))==null?void 0:vt.querySelector("[data-fluent-cart-product-variant].selected");A?u(this,V,((It=A==null?void 0:A.dataset)==null?void 0:It.cartId)||0):u(this,V,((Lt=T==null?void 0:T.dataset)==null?void 0:Lt.variationId)||0),n(this,c,Ue).call(this,T);const w=new URL(window.location.href).searchParams;if(w.has("selected")){const tt=w.get("selected"),$t=this.findOneInContainer(`[data-fluent-cart-product-variant][data-cart-id="${tt}"]`);$t&&n(this,c,se).call(this,$t)}n(this,c,Je).call(this),n(this,c,Xe).call(this);const k=((Ot=e(this,d)[0])==null?void 0:Ot.dataset.paymentType)||((ce=e(this,h))==null?void 0:ce.dataset.paymentType),H=((he=e(this,E)[0])==null?void 0:he.dataset.variationType)||((ue=e(this,h))==null?void 0:ue.dataset.variationType);k==="subscription"&&H==="simple"&&((fe=e(this,U))==null||fe.classList.remove("is-hidden")),f==="subscription"&&((me=e(this,U))==null||me.classList.remove("is-hidden")),(s==null?void 0:s.dataset.cartId)===(s==null?void 0:s.dataset.defaultVariationId)&&e(this,_).forEach(tt=>{tt.classList.remove("is-hidden")}),n(this,c,Mt).call(this,x),n(this,c,ae).call(this,s)},Dt=function(s,o){var g;const f=(((g=window.fluentcart_single_product_vars)==null?void 0:g.out_of_stock_status)||"").toString();e(this,E).forEach(b=>{if(o!==f){const x=b.dataset.quantity;let T=b.getAttribute("data-url")+s+"&quantity="+x;b.setAttribute("href",T),b.setAttribute("data-cart-id",s),b.classList.remove("is-hidden"),b.classList.remove("disabled"),b.removeAttribute("disabled")}else b.removeAttribute("href"),b.classList.add("is-hidden"),b.setAttribute("disabled","disabled")})},Ve=function(s){e(this,E).forEach(o=>{o.setAttribute("data-quantity",s);const f=o.getAttribute("data-cart-id");if(f){let g=o.getAttribute("data-url")+f+"&quantity="+s;o.setAttribute("href",g)}})},Ke=function(s){e(this,y).forEach(o=>{o.setAttribute("data-quantity",s)})},Ge=function(){e(this,d).forEach(s=>{s.addEventListener("click",o=>{n(this,c,se).call(this,s)})})},Ue=function(s){if(s&&s.length>0){const o=s[0];o.classList.add("active"),n(this,c,re).call(this,o)}},se=function(s){var H;e(this,d).forEach(L=>L.classList.remove("selected")),n(this,c,ne).call(this);const o=s.dataset.cartId,f=s.closest("[data-fluent-cart-product-pricing-section]");f.querySelectorAll("[data-fluent-cart-product-payment-type]"),f.querySelectorAll("[data-fluent-cart-product-item-price]");const g=f.querySelectorAll(".fluent-cart-product-variation-content[data-variation-id]");g&&g.forEach(L=>L.classList.add("is-hidden"));const b=f.querySelectorAll(`.fluent-cart-product-variation-content[data-variation-id="${o}"]`);b&&b.forEach(L=>L.classList.remove("is-hidden")),u(this,V,o);let x=(H=window.fluentcart_single_product_vars)==null?void 0:H.in_stock_status,T=s==null?void 0:s.dataset.stockManagement,A=x;T==="yes"&&(A=s==null?void 0:s.dataset.itemStock),o!==void 0&&(e(this,_).forEach(L=>L.classList.remove("active")),e(this,y).forEach(L=>{L.setAttribute("data-cart-id",o)}),n(this,c,Dt).call(this,o,A),e(this,y).forEach(L=>{L.classList.remove("is-hidden"),L.setAttribute("data-cart-id",o)})),A!==void 0&&n(this,c,Mt).call(this,A),n(this,c,ae).call(this,s),s.classList.add("selected");const N=this.findInContainer("[data-fluent-cart-single-product-page-product-variant-price-info]");N&&N.forEach(L=>L.classList.remove("selected"));const w=this.findOneInContainer(`[data-fluent-cart-single-product-page-product-variant-price-info][data-cart-id="${o}"]`);w&&(w==null||w.classList.add("selected"));const k=this.findInContainer(`[data-fluent-cart-single-product-page-product-quantity][data-cart-id="${o}"]`);k&&k.forEach(L=>L.classList.add("selected")),window.dispatchEvent(new CustomEvent("fluentCartSingleProductVariationChanged",{detail:{productId:e(this,bt),variationId:o}}))},ae=function(s){if(!s)return;const o=n(this,c,Ct).call(this,"[data-fluent-cart-price-display]")||n(this,c,Ct).call(this,".fct-price-display");if(!o)return;const f=o.querySelector("[data-fluent-cart-item-price]"),g=o.querySelector("[data-fluent-cart-compare-price]"),b=o.querySelector("[data-fluent-cart-savings-badge]"),x=s.dataset.itemPrice||"",T=s.dataset.priceSuffix||"",A=s.dataset.comparePrice||"",N=s.dataset.savingsText||"",w=(parseInt(s.dataset.savingsPercent||"0",10)||0)>0&&N;if(f&&x&&(f.innerHTML=T?`${x} <span class="fct_price_suffix">${T}</span>`:x),g){const k=g.querySelector("del");A?(g.classList.remove("is-hidden"),k?k.textContent=A:g.textContent=A):g.classList.add("is-hidden")}b&&(w?(b.textContent=N,b.classList.remove("is-hidden")):b.classList.add("is-hidden"))},Mt=function(s){if(!s)return;const o=this.findOneInContainer("[data-fluent-cart-product-stock]");o&&(o.innerHTML=this.$t(this.toTitleCase(s.replaceAll("-"," ")))),s===window.fluentcart_single_product_vars.out_of_stock_status?(e(this,y).forEach(f=>{const g=f.querySelector(".text");g&&(g.textContent=window.fluentcart_single_product_vars.out_of_stock_button_text),f.setAttribute("disabled","disabled"),f.classList.add("out-of-stock")}),e(this,E).forEach(f=>f.classList.add("is-hidden"))):(e(this,y).forEach(f=>{const g=f.querySelector(".text");g&&(g.textContent=window.fluentcart_single_product_vars.cart_button_text),f.classList.remove("out-of-stock"),f.removeAttribute("disabled")}),e(this,E).forEach(f=>f.classList.remove("is-hidden")))},Ye=function(){e(this,p)&&e(this,p).addEventListener("click",async s=>{s.preventDefault();const o=document.querySelector(`[data-fluent-cart-product-variant][data-cart-id="${e(this,V)}"]`),f=o==null?void 0:o.dataset.availableStock;let g=parseInt(e(this,l).value,10)||1,b=e(this,l).getAttribute("max"),x=b?parseInt(b,10):1e4;if(g>=x){window.Toastify&&new Toastify({text:`You can only purchase a maximum of ${x} item${x>1?"s":""}.`,className:"warning",duration:3e3,gravity:"top",position:"right",slideFrom:"right",type:"warning"}).showToast();return}if(g++,f!=="unlimited"&&g>parseInt(f)){window.Toastify&&new Toastify({text:"You have reached the maximum quantity.",className:"warning",duration:3e3,gravity:"top",position:"right",slideFrom:"right",type:"warning"}).showToast();return}e(this,l).value=g,e(this,l).dispatchEvent(new Event("input"))})},Qe=function(){e(this,v)&&e(this,v).addEventListener("click",s=>{s.preventDefault();let o=parseInt(e(this,l).value,10)||1;o>1&&o--,e(this,l).value=o,e(this,l).dispatchEvent(new Event("input"))})},Ze=function(){e(this,l)&&e(this,l).addEventListener("input",()=>{let s=parseInt(e(this,l).value,10);isNaN(s)||s<1?s=1:s>1e4&&(s=1e4),e(this,l).value=s,n(this,c,Ve).call(this,s),n(this,c,Ke).call(this,s)})},ne=function(){e(this,l)&&(e(this,l).value=1,e(this,l).dispatchEvent(new Event("input")))},je=function(){const s="single_product_page_cart_updated_"+e(this,Q);e(this,y).forEach(o=>{o.setAttribute("data-action-name",s),o.setAttribute("data-error-action-name",s)}),document.addEventListener(s,()=>{n(this,c,ne).call(this)})},Xe=function(){var o;const s=(o=e(this,d)[0])==null?void 0:o.dataset.cartId;s&&e(this,y).forEach(f=>{f.setAttribute("data-cart-id",s),f.classList.remove("is-hidden")})},Je=function(){var g,b,x;let s=(g=window.fluentcart_single_product_vars)==null?void 0:g.in_stock_status,o=(b=e(this,d)[0])==null?void 0:b.dataset.stockManagement,f=s;o==="yes"&&(f=(x=e(this,d)[0])==null?void 0:x.dataset.itemStock),f===window.fluentcart_single_product_vars.out_of_stock_status&&n(this,c,Mt).call(this,f)},ci=function(){e(this,y).forEach(s=>{s.setAttribute("data-cart-id","")})},hi=function(){e(this,_).forEach(s=>{s.addEventListener("click",o=>{n(this,c,ti).call(this,s)})})},ti=function(s){e(this,_).forEach(o=>o.classList.remove("active")),s.classList.add("active"),n(this,c,re).call(this,s)},re=function(s){if(s.dataset.mediaType==="video"){n(this,c,ii).call(this,document.readyState==="complete");return}if(!e(this,F))return;n(this,c,si).call(this);let o=s.dataset.url;o===void 0&&(o=e(this,F).dataset.defaultImageUrl),e(this,F).classList.remove("is-hidden"),e(this,F).setAttribute("src",o)},ei=function(){if(!e(this,q))return;n(this,c,oe).call(this);const s=()=>{n(this,c,le).call(this,!0),n(this,c,de).call(this)};document.readyState==="complete"?s():window.addEventListener("load",s,{once:!0})},ii=function(s=!1){e(this,q)&&(n(this,c,oe).call(this),n(this,c,le).call(this,s),n(this,c,de).call(this))},oe=function(){e(this,F)&&e(this,F).classList.add("is-hidden"),e(this,q)&&e(this,q).classList.remove("is-hidden")},si=function(){e(this,q)&&e(this,q).classList.add("is-hidden")},de=function(){var o,f;const s=(o=e(this,q))==null?void 0:o.querySelector("video");s&&((f=e(this,q))==null?void 0:f.dataset.videoLoaded)==="yes"&&(s.currentTime=0)},le=function(s=!1){if(!e(this,q)||!s&&document.readyState!=="complete"||e(this,q).dataset.videoLoaded==="yes")return;const o=e(this,q).dataset.videoEmbed||"";if(o)try{const f=atob(o);e(this,q).innerHTML=f,e(this,q).dataset.videoLoaded="yes"}catch(f){console.error("Failed to decode product video",f)}},m(Tt,i,null);let I=Tt;(()=>{document.querySelectorAll(".fct-similar-product-list-container").forEach(Y=>{const s=Y.querySelector("[data-fct-similar-slider-wrapper]"),o=Y.querySelector(".fct-product-list"),f=Y.querySelectorAll(".fct-product-list-item"),g=Y.querySelector("[data-fct-similar-slider-prev]"),b=Y.querySelector("[data-fct-similar-slider-next]");if(!s||!o||f.length===0)return;if(f.length<=4){s.classList.remove("has-slider"),g==null||g.classList.add("is-hidden"),b==null||b.classList.add("is-hidden");return}s.classList.add("has-slider");const x=()=>{const w=getComputedStyle(o),k=parseFloat(w.columnGap||w.gap||"0");return Number.isNaN(k)?0:k},T=()=>{var L;const w=((L=f[0])==null?void 0:L.getBoundingClientRect().width)||0,k=x();if(!w)return o.clientWidth;const H=Math.max(1,Math.floor((o.clientWidth+k)/(w+k)));return(w+k)*H},A=()=>{const w=o.scrollWidth-o.clientWidth-1,k=o.scrollLeft<=0,H=o.scrollLeft>=w;g&&(g.disabled=k),b&&(b.disabled=H)},N=w=>{o.scrollBy({left:w*T(),behavior:"smooth"})};g==null||g.addEventListener("click",()=>N(-1)),b==null||b.addEventListener("click",()=>N(1)),o.addEventListener("scroll",A,{passive:!0}),window.addEventListener("resize",A),A()})})(),document.querySelectorAll("[data-fluent-cart-product-pricing-section]").forEach((Y,s)=>{new I().init(Y,s)}),window.addEventListener("fluentCartSingleProductModalOpened",function(Y){document.querySelectorAll("[data-fluent-cart-product-pricing-section]").forEach((s,o)=>{})}),window.FluentCartSingleProduct=I});
